{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projekty\\\\Java\\\\React Course\\\\react-meals-http\\\\src\\\\components\\\\Cart\\\\Checkout\\\\Checkout.js\",\n    _s = $RefreshSig$();\n\nimport classes from \"./Checkout.module.css\";\nimport cartClasses from \"../../Header/HeaderCartButton/HeaderCartButton.module.css\";\nimport useInput from \"../../../hooks/use-input\";\nimport { useContext } from \"react\";\nimport CartItems from \"../../../store/cart-items\";\nimport Modal from \"../../UI/Modal/Modal\";\nimport useHttp from \"../../../hooks/use-http\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Checkout = props => {\n  _s();\n\n  const cartContext = useContext(CartItems);\n  const {\n    isLoading,\n    error,\n    sendRequest\n  } = useHttp();\n  const {\n    value: enteredName,\n    isValid: nameIsValid,\n    hasError: nameHasError,\n    valueChangeHandler: nameChangeHandler,\n    inputBlurHandler: nameInputBlurHandler,\n    reset: resetNameInput\n  } = useInput(name => name.trim() !== '');\n\n  const validateEmail = email => {\n    return String(email).toLowerCase().match(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n  };\n\n  const {\n    value: enteredEmail,\n    isValid: emailIsValid,\n    hasError: emailHasError,\n    valueChangeHandler: emailChangeHandler,\n    inputBlurHandler: emailInputBlurHandler,\n    reset: resetEmailInput\n  } = useInput(validateEmail);\n  let formIsValid = false;\n\n  if (nameIsValid && emailIsValid) {\n    formIsValid = true;\n  }\n\n  const submitHandler = event => {\n    event.preventDefault();\n    props.onClose();\n\n    if (nameHasError || emailHasError) {\n      return;\n    }\n\n    const order = {\n      name: enteredName,\n      email: enteredEmail,\n      orderItems: cartContext.items\n    };\n    const requestConfig = {\n      url: \"https://react-http-a39f2-default-rtdb.firebaseio.com/orders.json\",\n      method: 'POST',\n      body: order,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    sendRequest(requestConfig, data => console.log(data));\n    resetNameInput();\n    resetEmailInput();\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes['control-group'],\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${classes['form-control']} ${nameHasError && classes.invalid}`,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"name\",\n            children: \"Full Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"name\",\n            value: enteredName,\n            onChange: nameChangeHandler,\n            onBlur: nameInputBlurHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this), nameHasError && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: classes['error-text'],\n            children: \"Full Name must not be empty.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 42\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${classes['form-control']} ${emailHasError && classes.invalid}`,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"E-Mail Address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"email\",\n          value: enteredEmail,\n          onChange: emailChangeHandler,\n          onBlur: emailInputBlurHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), emailHasError && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: classes['error-text'],\n          children: \"Email is invalid.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 39\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes['form-actions'],\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: !formIsValid,\n          className: cartClasses.button,\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 27\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Something went wrong.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 23\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Checkout, \"PcJWhbH+yey9zTPPG+z+5jPc+LM=\", false, function () {\n  return [useHttp, useInput, useInput];\n});\n\n_c = Checkout;\nexport default Checkout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"sources":["D:/Projekty/Java/React Course/react-meals-http/src/components/Cart/Checkout/Checkout.js"],"names":["classes","cartClasses","useInput","useContext","CartItems","Modal","useHttp","Checkout","props","cartContext","isLoading","error","sendRequest","value","enteredName","isValid","nameIsValid","hasError","nameHasError","valueChangeHandler","nameChangeHandler","inputBlurHandler","nameInputBlurHandler","reset","resetNameInput","name","trim","validateEmail","email","String","toLowerCase","match","enteredEmail","emailIsValid","emailHasError","emailChangeHandler","emailInputBlurHandler","resetEmailInput","formIsValid","submitHandler","event","preventDefault","onClose","order","orderItems","items","requestConfig","url","method","body","headers","data","console","log","invalid","button"],"mappings":"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","sourcesContent":["import classes from \"./Checkout.module.css\";\r\nimport cartClasses from \"../../Header/HeaderCartButton/HeaderCartButton.module.css\"\r\nimport useInput from \"../../../hooks/use-input\";\r\nimport {useContext} from \"react\";\r\nimport CartItems from \"../../../store/cart-items\";\r\nimport Modal from \"../../UI/Modal/Modal\";\r\nimport useHttp from \"../../../hooks/use-http\";\r\n\r\n\r\nconst Checkout = (props) => {\r\n    const cartContext = useContext(CartItems);\r\n\r\n    const {\r\n        isLoading,\r\n        error,\r\n        sendRequest,\r\n    } = useHttp();\r\n\r\n    const {\r\n        value: enteredName,\r\n        isValid: nameIsValid,\r\n        hasError: nameHasError,\r\n        valueChangeHandler: nameChangeHandler,\r\n        inputBlurHandler: nameInputBlurHandler,\r\n        reset: resetNameInput,\r\n    } = useInput((name) => name.trim() !== '');\r\n\r\n    const validateEmail = (email) => {\r\n        return String(email)\r\n            .toLowerCase()\r\n            .match(\r\n                /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\r\n            );\r\n    };\r\n\r\n    const {\r\n        value: enteredEmail,\r\n        isValid: emailIsValid,\r\n        hasError: emailHasError,\r\n        valueChangeHandler: emailChangeHandler,\r\n        inputBlurHandler: emailInputBlurHandler,\r\n        reset: resetEmailInput,\r\n    } = useInput(validateEmail);\r\n\r\n    let formIsValid = false;\r\n    if (nameIsValid && emailIsValid) {\r\n        formIsValid = true;\r\n    }\r\n\r\n    const submitHandler = (event) => {\r\n        event.preventDefault();\r\n\r\n        props.onClose();\r\n\r\n        if (nameHasError || emailHasError) {\r\n            return;\r\n        }\r\n\r\n        const order = {\r\n          name: enteredName,\r\n          email: enteredEmail,\r\n          orderItems: cartContext.items,\r\n        };\r\n\r\n        const requestConfig = {\r\n            url: \"https://react-http-a39f2-default-rtdb.firebaseio.com/orders.json\",\r\n            method: 'POST',\r\n            body: order,\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        }\r\n        sendRequest(requestConfig, (data) => console.log(data));\r\n\r\n        resetNameInput();\r\n        resetEmailInput();\r\n    }\r\n\r\n    return (\r\n        <Modal>\r\n            <form onSubmit={submitHandler}>\r\n                <div className={classes['control-group']}>\r\n                    <div className={`${classes['form-control']} ${nameHasError && classes.invalid}`}>\r\n                        <label htmlFor='name'>Full Name</label>\r\n                        <input\r\n                            type='text'\r\n                            id='name'\r\n                            value={enteredName}\r\n                            onChange={nameChangeHandler}\r\n                            onBlur={nameInputBlurHandler}\r\n                        />\r\n                        {nameHasError && <p className={classes['error-text']}>Full Name must not be empty.</p>}\r\n                    </div>\r\n                </div>\r\n                <div className={`${classes['form-control']} ${emailHasError && classes.invalid}`}>\r\n                    <label htmlFor='email'>E-Mail Address</label>\r\n                    <input\r\n                        type='text'\r\n                        id='email'\r\n                        value={enteredEmail}\r\n                        onChange={emailChangeHandler}\r\n                        onBlur={emailInputBlurHandler}\r\n                    />\r\n                    {emailHasError && <p className={classes['error-text']}>Email is invalid.</p>}\r\n                </div>\r\n                <div className={classes['form-actions']}>\r\n                    <button disabled={!formIsValid} className={cartClasses.button}>Submit</button>\r\n                </div>\r\n            </form>\r\n            {isLoading && <p>Loading...</p>}\r\n            {error && <p>Something went wrong.</p>}\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default Checkout;"]},"metadata":{},"sourceType":"module"}